{% extends 'database/base/database_base.html' %}

{% block content %}
    {% for msg in get_flashed_messages(category_filter=['ok']) %}
        <div class="alert alert-success alert-dismissible">
            <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×
            </button>
            {{ msg }}
        </div>
    {% endfor %}
    <form class="layui-form" method="post" id="form-data" novalidate>

        <div class="layui-form-item">
            <div class="layui-col-md2" style="margin-top: 7px">name:</div>
            <div class="layui-col-md10">
                {{ form.name }}
                {% for err in form.name.errors %}
                    <div class="layui-col-md12" style="margin: 5px 0 -10px 5px">
                        <font style="color: red">
                            {{ err }}
                        </font>
                    </div>
                {% endfor %}
            </div>
        </div>

        <div class="layui-form-item">
            <div class="layui-col-md2" style="margin-top: 7px">user_id:</div>
            <div class="layui-col-md10">
                {{ form.user_id }}
                {% for err in form.user_id.errors %}
                    <div class="layui-col-md12" style="margin: 5px 0 -10px 5px">
                        <font style="color: red">
                            {{ err }}
                        </font>
                    </div>
                {% endfor %}
            </div>
        </div>

        <div class="layui-form-item">
            <div class="layui-col-md2" style="margin-top: 7px">admin_id:</div>
            <div class="layui-col-md10">
                {{ form.admin_id }}
                {% for err in form.admin_id.errors %}
                    <div class="layui-col-md12" style="margin: 5px 0 -10px 5px">
                        <font style="color: red">
                            {{ err }}
                        </font>
                    </div>
                {% endfor %}
            </div>
        </div>

        <div class="layui-form-item">
            <div class="layui-col-md2" style="margin-top: 7px">number:</div>
            <div class="layui-col-md10">{{ form.number }}</div>
        </div>

        <div class="layui-form-item">
            <div class="layui-col-md2" style="margin-top: 7px">type:</div>
            <div class="layui-col-md10">{{ form.type }}</div>
        </div>

        <div class="layui-form-item">
            <div class="layui-col-md2" style="margin-top: 7px">commpy:</div>
            <div class="layui-col-md10">{{ form.commpy }}</div>
        </div>

        <div class="layui-row layui-col-space30">
            <div class="layui-col-md5"></div>

            <div class="layui-col-md2">
                {{ form.submit }}
            </div>
            <div class="layui-col-md5"></div>
            {{ form.csrf_token }}
        </div>
    </form>
{% endblock %}

{% block js %}
    <script src="{{ url_for('static',filename='js/layui/layui.all.js') }}"></script>
    <script>
        //Demo
        layui.use('form', function () {
            var form = layui.form;

            //监听提交
            form.on('submit(formDemo)', function (data) {
                layer.msg(JSON.stringify(data.field));
                return false;
            });
        });
    </script>
    <script>
        //注意：选项卡 依赖 element 模块，否则无法进行功能性操作
        layui.use('element', function () {
            var element = layui.element;

            //…
        });
    </script>

{% endblock %}
